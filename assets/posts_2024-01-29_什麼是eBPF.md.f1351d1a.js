import{_ as e,c as r,o as l,f as o}from"./app.4435f70c.js";var a="/blog/assets/01.0d57ba48.webp";const g='{"title":"\u4EC0\u9EBC\u662FeBPF","description":"\u9019\u662F youtube \u983B\u9053Is it Observable\u7684\u5F71\u7247\u7BC0\u9304\uFF0C\u4E3B\u984C\u662Fwhat is eBPF\uFF0C\u4E00\u500B\u5728 observerbility \u975E\u5E38\u975E\u5E38\u91CD\u8981\u7684\u6280\u8853\uFF0C\u800C\u4E14\u4ED6\u80FD\u505A\u7684\uFF0C\u4E0D\u50C5\u50C5\u53EA\u6709 observerbility...","frontmatter":{"date":"2024-01-29T00:00:00.000Z","title":"\u4EC0\u9EBC\u662FeBPF","tags":["devops","CNCF"],"description":"\u9019\u662F youtube \u983B\u9053Is it Observable\u7684\u5F71\u7247\u7BC0\u9304\uFF0C\u4E3B\u984C\u662Fwhat is eBPF\uFF0C\u4E00\u500B\u5728 observerbility \u975E\u5E38\u975E\u5E38\u91CD\u8981\u7684\u6280\u8853\uFF0C\u800C\u4E14\u4ED6\u80FD\u505A\u7684\uFF0C\u4E0D\u50C5\u50C5\u53EA\u6709 observerbility..."},"headers":[{"level":2,"title":"\u524D\u8A00","slug":"\u524D\u8A00"},{"level":2,"title":"\u4EC0\u9EBC\u662F eBPF","slug":"\u4EC0\u9EBC\u662F-ebpf-1"},{"level":2,"title":"eBPF \u80FD\u505A\u4EC0\u9EBC","slug":"ebpf-\u80FD\u505A\u4EC0\u9EBC"},{"level":2,"title":"\u4EC0\u9EBC\u662F eBPF map","slug":"\u4EC0\u9EBC\u662F-ebpf-map"},{"level":2,"title":"\u5982\u4F55\u5BEB eBPF \u7A0B\u5F0F","slug":"\u5982\u4F55\u5BEB-ebpf-\u7A0B\u5F0F"},{"level":2,"title":"\u4EE5 eBPF \u5BE6\u8E10\u7684\u7522\u54C1","slug":"\u4EE5-ebpf-\u5BE6\u8E10\u7684\u7522\u54C1"}],"relativePath":"posts/2024-01-29_\u4EC0\u9EBC\u662FeBPF.md","lastUpdated":1706546745495}',i={},t=o('<h1 id="\u4EC0\u9EBC\u662F-ebpf" tabindex="-1">\u4EC0\u9EBC\u662F eBPF <a class="header-anchor" href="#\u4EC0\u9EBC\u662F-ebpf" aria-hidden="true">#</a></h1><h2 id="\u524D\u8A00" tabindex="-1">\u524D\u8A00 <a class="header-anchor" href="#\u524D\u8A00" aria-hidden="true">#</a></h2><p>\u4E4B\u5F8C\u61C9\u8A72\u6703\u5BEB\u883B\u591A\u50CF\u9019\u6A23\uFF0C\u770B\u4E00\u4E9B\u4E0D\u932F\u7684\u5F71\u7247\u6216\u662F\u6587\u7AE0\uFF0C\u7136\u5F8C\u505A\u6458\u8981\u3002</p><p>\u9019\u662F youtube \u983B\u9053<a href="https://www.youtube.com/@IsitObservable" target="_blank" rel="noopener noreferrer">Is it Observable</a> \u7684\u5F71\u7247\uFF0C\u4E3B\u984C\u662F<a href="https://www.youtube.com/watch?v=jM3vL2LLm5o" target="_blank" rel="noopener noreferrer">what is eBPF</a>\uFF0C\u4E00\u500B\u5728 <code>observerbility</code> \u975E\u5E38\u975E\u5E38\u91CD\u8981\u7684\u6280\u8853\uFF0C\u800C\u4E14\u4ED6\u80FD\u505A\u7684\uFF0C\u4E0D\u50C5\u50C5\u53EA\u6709 observerbility...</p><p>\u5927\u7DB1\u6703\u5206\u4EE5\u4E0B\u5E7E\u500B\u90E8\u5206</p><ul><li>\u4EC0\u9EBC\u662F eBPF</li><li>eBPF \u80FD\u505A\u4EC0\u9EBC</li><li>\u4EC0\u9EBC\u662F eBPF map</li><li>\u5982\u4F55\u5BEB eBPF \u7A0B\u5F0F</li><li>\u4EE5 eBPF \u5BE6\u8E10\u7684\u7522\u54C1</li></ul><h2 id="\u4EC0\u9EBC\u662F-ebpf-1" tabindex="-1">\u4EC0\u9EBC\u662F eBPF <a class="header-anchor" href="#\u4EC0\u9EBC\u662F-ebpf-1" aria-hidden="true">#</a></h2><p>eBPF \u5168\u7A31\u53EB <code>Extended Berkeley Packet Filter</code>\uFF0C\u770B\u540D\u7A31\u5C31\u77E5\u9053\u4ED6\u662F BPF \u7684\u64F4\u5145\uFF0CBPF \u539F\u672C\u662F\u7528\u4F86\u5C0D <code>packet(\u5C01\u5305)</code>\u505A <code>analyze</code> \u8DDF <code>filter</code>\uFF0C\u4E0D\u904E eBPF \u80FD\u505A\u7684\u4E0D\u50C5\u65BC\u6B64\u3002</p><p>eBPF \u4ED6\u5B58\u5728<code>Kernel</code>\u4E4B\u9593\uFF0C\u53EF\u4EE5\u9078\u64C7\u6027\u7684\u8A3B\u518A\u4E26\u76E3\u807D<code>\u9032\u7A0B</code>\u7684<code>Syscall</code>\u4E8B\u4EF6\uFF0C\u7372\u53D6\u4E0A\u9762\u7684\u8CC7\u8A0A\uFF0C\u5F9E\u800C\u53BB\u505A\u4E00\u4E9B\u4E8B\u60C5\u3002</p><p><code>Isovalent</code> \u7684 CTO <code>Thomas Graf</code>\uFF0C\u5728\u4E00\u6B21<a href="https://youtu.be/KhPrMW5Rbbc?si=6UbZuv7rKajZke0i&amp;t=71" target="_blank" rel="noopener noreferrer">CNCF \u7684\u6F14\u8B1B</a>\u4E2D\uFF0C\u505A\u4E86\u4E00\u500B\u5F88\u751F\u52D5\u7684\u6BD4\u55BB\uFF0CeBPF \u5C31\u50CF\u662F <code>browser</code> \u4E2D\u7684 <code>javascript</code>\uFF0C\u76E3\u807D\u8457\u4F7F\u7528\u8005\u4EA4\u4E92\u7684<code>DOM event</code>\uFF0C\u7136\u5F8C\u53BB\u64CD\u4F5C\u9801\u9762\u3002eBPF \u4E5F\u5728\u505A\u985E\u4F3C\u7684\u4E8B\u60C5\uFF0C\u76E3\u807D\u8457\u767C\u7D66<code> Kernel</code> \u7684<code>system call</code></p><p><img src="'+a+'" alt="eBPF"></p><h2 id="ebpf-\u80FD\u505A\u4EC0\u9EBC" tabindex="-1">eBPF \u80FD\u505A\u4EC0\u9EBC <a class="header-anchor" href="#ebpf-\u80FD\u505A\u4EC0\u9EBC" aria-hidden="true">#</a></h2><p><code>Linux Kernel</code>\u56E0\u70BA\u975E\u5E38\u8981\u6C42<code>\u7A69\u5B9A</code>\u8DDF<code>\u5B89\u5168\u6027</code>\uFF0C\u6240\u4EE5\u4ED6\u7684<code>\u8FED\u4EE3</code>\u975E\u5E38\u975E\u5E38\u7DE9\u6162\uFF0CeBPF \u53EF\u4EE5\u5728\u4E0D\u5F71\u97FF Kernel \u7684\u7A69\u5B9A\u8DDF\u5B89\u5168\u6027\u4E4B\u4E0B\uFF0C\u5E6B\u7CFB\u7D71\u64F4\u5145\u529F\u80FD\u3002\u9019\u76F8\u7576\u65BC\u5E6B Kernel \u5F04\u4E86\u4E00\u500B\u53EF\u4EE5<code>\u5BE6\u9A57\u5275\u65B0</code>\u7684 <code>sandbox</code>\uFF0C\u60F3\u50CF\u7A7A\u9593\u7121\u9650\u5927</p><p>\u7C97\u7565\u5206\u4E0B\u5217\u5E7E\u9EDE\u4F86\u8A0E\u8AD6</p><ul><li>network <ul><li>\u53EF\u4EE5\u7528\u4F86\u5206\u6790 network\u3001packet\u3001route \u7B49\u7B49</li></ul></li><li>security <ul><li>\u6839\u64DA\u4E0D\u540C\u7684 roles\uFF0C\u4F86\u56DE\u5831\u6216\u662F\u963B\u64CB\u4ED6\u7684\u7DB2\u8DEF\u8ACB\u6C42</li></ul></li><li><code>profiling</code><ul><li>\u9019\u61C9\u8A72\u662F\u6700\u5C4C\u7684\u90E8\u5206\uFF0C\u4F60\u53EF\u4EE5\u5728\u7DDA\u4E0A\uFF0C\u4E0D\u7528\u91CD\u65B0\u90E8\u7F72\uFF0C\u4E0D\u7528\u5728\u5F8C\u7AEF\u57CB\u4EE3\u78BC\uFF0C\u7136\u5F8C\u53EF\u4EE5\u53BB\u8ABF\u9069 API \u7684<code>\u8ACB\u6C42\u8CC7\u8A0A</code>\uFF0C\u5728<code>\u51FD\u5F0F\u5167\u7684\u57F7\u884C\u72C0\u6CC1</code>\u3002</li></ul></li><li><code>observerbility</code><ul><li>\u53EF\u4EE5\u76E3\u63A7\u7CFB\u7D71\u7684 CPU\u3001\u786C\u789F\u3001\u8A18\u61B6\u9AD4\u7B49\u7B49<code>metrics</code>\u7684\u8CC7\u8A0A\uFF0C\u9084\u53EF\u4EE5\u8FFD\u8E64<code>\u8ACB\u6C42\u8ABF\u7528\u93C8</code>\uFF0C<code>tracing</code> \u7684\u72C0\u6CC1</li></ul></li></ul><h2 id="\u4EC0\u9EBC\u662F-ebpf-map" tabindex="-1">\u4EC0\u9EBC\u662F eBPF map <a class="header-anchor" href="#\u4EC0\u9EBC\u662F-ebpf-map" aria-hidden="true">#</a></h2><p><code>eBPF map</code> \u662F\u4E00\u500B\u5B58\u5728 <code>Kernel</code> \u7684 <code>hashmap</code>\uFF0C\u4ED6\u6703\u5B58\u4E00\u4E9B<code>system call</code>\u7684\u8CC7\u8A0A\uFF0C\u4E5F\u53EF\u4EE5\u5C0D\u4ED6\u505A<code>CRUD</code></p><h2 id="\u5982\u4F55\u5BEB-ebpf-\u7A0B\u5F0F" tabindex="-1">\u5982\u4F55\u5BEB eBPF \u7A0B\u5F0F <a class="header-anchor" href="#\u5982\u4F55\u5BEB-ebpf-\u7A0B\u5F0F" aria-hidden="true">#</a></h2><p>\u53EF\u4EE5\u7528\u4EE5\u4E0B\u5DE5\u5177\u53BB\u5354\u52A9\u958B\u767C\u6216\u7DE8\u8B6F</p><ul><li><code>LLVM compiler</code> (hard way)</li><li><a href="https://github.com/iovisor/bcc" target="_blank" rel="noopener noreferrer">BCC</a> (BPF Compiler Collection) <ul><li>eBPF \u5927\u5927\uFF0C<code>Brendan Gregg</code> \u7528 python \u5BEB\u7684\u5DE5\u5177\u96C6</li><li>\u4ED6\u5728\u67D0\u6B21\u6F14\u8B1B\u6709 demo \u904E\u4E00\u4E9B\u5DE5\u5177\uFF0C<a href="https://www.youtube.com/watch?v=FJW8nGV4jxY" target="_blank" rel="noopener noreferrer">Linux Performance Tools Part1</a>\uFF0C<a href="https://www.youtube.com/watch?v=zrr2nUln9Kk&amp;t=2271s" target="_blank" rel="noopener noreferrer">Linux Performance Tools Part2</a></li></ul></li><li><a href="https://github.com/iovisor/bpftrace" target="_blank" rel="noopener noreferrer">bpftrace</a><ul><li>high-level tracing language for Linux Kernel</li></ul></li><li><a href="https://github.com/cilium/ebpf" target="_blank" rel="noopener noreferrer">eBPF-go</a><ul><li>Go library that provides utilities for loading, compiling, and debugging eBPF programs</li></ul></li><li><a href="https://github.com/solo-io/bumblebee" target="_blank" rel="noopener noreferrer">bumblebee</a><ul><li>Get eBPF programs running from the cloud to the kernel in <code>1 line of bash</code>, hmm?</li></ul></li></ul><h2 id="\u4EE5-ebpf-\u5BE6\u8E10\u7684\u7522\u54C1" tabindex="-1">\u4EE5 eBPF \u5BE6\u8E10\u7684\u7522\u54C1 <a class="header-anchor" href="#\u4EE5-ebpf-\u5BE6\u8E10\u7684\u7522\u54C1" aria-hidden="true">#</a></h2><ul><li><a href="https://github.com/cilium/hubble" target="_blank" rel="noopener noreferrer">Hubble</a><ul><li><code>Cilium</code> \u516C\u53F8\u505A\u7684\uFF0CCilium \u5728 eBPF \u9818\u57DF\u662F\u9818\u982D\u7F8A</li></ul></li><li><a href="https://falco.org/" target="_blank" rel="noopener noreferrer">Falco</a><ul><li>\u4E5F\u662F\u5F88\u71B1\u9580\u7684 solution</li></ul></li><li><a href="https://px.dev/" target="_blank" rel="noopener noreferrer">Pixie</a></li><li><a href="https://grafana.com/oss/pyroscope/" target="_blank" rel="noopener noreferrer">Pyroscope</a><ul><li>Grafana lab profiling \u7684\u7522\u54C1</li></ul></li><li><a href="https://www.parca.dev/" target="_blank" rel="noopener noreferrer">Parca</a><ul><li>golang \u5BEB\u7684\u7684 profiling solution</li></ul></li><li><a href="https://tetragon.io/" target="_blank" rel="noopener noreferrer">Tetragon</a><ul><li>security observability and runtime enforcement tool</li><li><code>Cilium</code>\u7684\u7522\u54C1</li></ul></li></ul>',22),c=[t];function n(d,s,p,b,h,u){return l(),r("div",null,c)}var m=e(i,[["render",n]]);export{g as __pageData,m as default};
