import{_ as s,c as a,a as t,f as p,r as o,o as e}from"./app.d8d1bef2.js";var c="/blog/assets/01.621860ff.png",l="/blog/assets/04.2b604296.png",u="/blog/assets/06.d3fc554e.png",i="/blog/assets/02.c4ef3eee.png",k="/blog/assets/03.7fde2285.png",r="/blog/assets/05.b059f904.png";const x='{"title":"\u8FF4\u5708\u4E2D\u7684 async/await","description":"async/await\u5728\u8FF4\u5708\u4E2D\u7684\u884C\u70BA\uFF0C\u9644\u4E0A\u7D50\u679C\u5716\u793A...","frontmatter":{"date":"2022-05-12T00:00:00.000Z","title":"\u8FF4\u5708\u4E2D\u7684 async/await","tags":["\u524D\u7AEF","javascript"],"description":"async/await\u5728\u8FF4\u5708\u4E2D\u7684\u884C\u70BA\uFF0C\u9644\u4E0A\u7D50\u679C\u5716\u793A..."},"headers":[{"level":2,"title":"\u7D50\u8AD6","slug":"\u7D50\u8AD6"},{"level":2,"title":"\u9A57\u8B49","slug":"\u9A57\u8B49"},{"level":3,"title":"forEach","slug":"foreach"},{"level":3,"title":"map","slug":"map"},{"level":3,"title":"reduce","slug":"reduce"},{"level":3,"title":"for ... of","slug":"for-of"},{"level":3,"title":"for loop","slug":"for-loop"},{"level":3,"title":"while loop","slug":"while-loop"}],"relativePath":"posts/2022-05-12_async_await\u4E2D\u7684\u8FF4\u5708.md","lastUpdated":1706480804789}',d={},m=p(`<h1 id="\u8FF4\u5708\u4E2D\u7684-async-await" tabindex="-1">\u8FF4\u5708\u4E2D\u7684 async/await <a class="header-anchor" href="#\u8FF4\u5708\u4E2D\u7684-async-await" aria-hidden="true">#</a></h1><h2 id="\u7D50\u8AD6" tabindex="-1">\u7D50\u8AD6 <a class="header-anchor" href="#\u7D50\u8AD6" aria-hidden="true">#</a></h2><ul><li>forEach\u3001map\u3001reduce \u4E4B\u985E\u6709\u4E00\u500B<code>callbackFn</code>\u7684\u90FD<code>\u4E0D\u6703\u7B49\u5F85</code></li><li>\u5176\u4ED6 loop \u90FD<code>\u6703\u7B49\u5F85</code></li></ul><p>\u66F4\u8FFD\u6839\u7A76\u5E95\u4E00\u9EDE\u61C9\u8A72\u8981\u53BB\u7814\u7A76\uFF0Cmap\u3001reduce \u4E4B\u985E\u7684 function\uFF0Cjavascript engine \u662F\u600E\u9EBC\u5BE6\u73FE\u7684\uFF0C \u4E0D\u904E\u5BE6\u52D9\u4E0A\u9084\u662F\u7528 Promise.all()\u3001Promise.allSettled()\u4E4B\u985E\u7684\u53BB\u8655\u7406\u6BD4\u8F03\u597D</p><h2 id="\u9A57\u8B49" tabindex="-1">\u9A57\u8B49 <a class="header-anchor" href="#\u9A57\u8B49" aria-hidden="true">#</a></h2><h3 id="foreach" tabindex="-1">forEach <a class="header-anchor" href="#foreach" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
ids<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://jsonplaceholder.typicode.com/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>forEach \u7684 network waterfall \u5716 <img src="`+c+`" alt="foreach"></p><ul><li>\u800C\u4E14\u56E0\u70BA\u6BCF\u6B21\u8ACB\u6C42\u6240\u82B1\u7684\u6642\u9593\u6703\u7A0D\u5FAE\u4E0D\u4E00\u6A23\uFF0C\u6240\u4EE5\u5B8C\u6210\u7684\u9806\u5E8F\u4E5F\u53EF\u80FD\u4E0D\u56FA\u5B9A</li></ul><h3 id="map" tabindex="-1">map <a class="header-anchor" href="#map" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
ids<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://jsonplaceholder.typicode.com/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>map \u7684 network waterfall \u5716 <img src="`+l+`" alt="foreach"></p><ul><li>\u884C\u70BA\u8DDF forEach \u4E00\u6A23</li></ul><h3 id="reduce" tabindex="-1">reduce <a class="header-anchor" href="#reduce" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
ids<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://jsonplaceholder.typicode.com/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>reduce \u7684 network waterfall \u5716 <img src="`+u+`" alt="foreach"></p><ul><li>\u884C\u70BA\u8DDF forEach \u4E00\u6A23</li></ul><h3 id="for-of" tabindex="-1">for ... of <a class="header-anchor" href="#for-of" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">fetchData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> id <span class="token keyword">of</span> ids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://jsonplaceholder.typicode.com/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>for of \u7684 network waterfall \u5716 <img src="`+i+`" alt="foreach"></p><ul><li>\u4ED6\u6703\u7B49\u524D\u9762\u4E00\u500B\u57F7\u884C\u5B8C\uFF0C\u624D\u6703\u57F7\u884C\u4E0B\u4E00\u500B</li></ul><h3 id="for-loop" tabindex="-1">for loop <a class="header-anchor" href="#for-loop" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">fetchData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ids<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://jsonplaceholder.typicode.com/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>ids<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>for loop \u7684 network waterfall \u5716 <img src="`+k+`" alt="foreach"></p><ul><li>\u8DDF for in \u4E00\u6A23\uFF0C\u4ED6\u6703\u7B49\u524D\u9762\u4E00\u500B\u57F7\u884C\u5B8C\uFF0C\u624D\u6703\u57F7\u884C\u4E0B\u4E00\u500B</li></ul><h3 id="while-loop" tabindex="-1">while loop <a class="header-anchor" href="#while-loop" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">fetchData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> ids<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://jsonplaceholder.typicode.com/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>ids<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
        x<span class="token operator">++</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>while loop \u7684 network waterfall \u5716 <img src="`+r+'" alt="foreach"></p>',28);function h(f,b,g,w,y,_){const n=o("Comment");return e(),a("div",null,[m,t(n)])}var j=s(d,[["render",h]]);export{x as __pageData,j as default};
